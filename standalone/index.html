<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editor de Artigos - Blog Liberdade M√©dica</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="styles-upload.css">
</head>
<body>
    <!-- Indicador de Status da API -->
    <div id="connectionStatus" class="status-indicator">
        üîÑ Iniciando servidor...
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>üìù Editor de Artigos</h1>
            <p>Sistema de cria√ß√£o de conte√∫do para o blog Liberdade M√©dica</p>
            <div id="appStatus" class="app-status">
                üîÑ Conectando ao servidor backend...
            </div>
        </header>

        <!-- Formul√°rio Principal -->
        <section class="form-section">
            <h2>Informa√ß√µes do Artigo</h2>
            
            <div class="form-group">
                <label for="titulo">T√≠tulo do Artigo *</label>
                <input type="text" id="titulo" placeholder="Digite o t√≠tulo do artigo" required>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="categoria">Categoria *</label>
                    <select id="categoria" required>
                        <option value="">Selecione uma categoria</option>
                        <option value="Medicina Geral">Medicina Geral</option>
                        <option value="Cardiologia">Cardiologia</option>
                        <option value="Dermatologia">Dermatologia</option>
                        <option value="Endocrinologia">Endocrinologia</option>
                        <option value="Gastroenterologia">Gastroenterologia</option>
                        <option value="Ginecologia">Ginecologia</option>
                        <option value="Neurologia">Neurologia</option>
                        <option value="Oftalmologia">Oftalmologia</option>
                        <option value="Ortopedia">Ortopedia</option>
                        <option value="Otorrinolaringologia">Otorrinolaringologia</option>
                        <option value="Pediatria">Pediatria</option>
                        <option value="Psiquiatria">Psiquiatria</option>
                        <option value="Pneumologia">Pneumologia</option>
                        <option value="Reumatologia">Reumatologia</option>
                        <option value="Urologia">Urologia</option>
                        <option value="Medicina de Emerg√™ncia">Medicina de Emerg√™ncia</option>
                        <option value="Medicina Preventiva">Medicina Preventiva</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="autor">Autor *</label>
                    <input type="text" id="autor" placeholder="Nome do autor" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="coautor">Co-autor</label>
                    <input type="text" id="coautor" placeholder="Nome do co-autor (opcional)">
                </div>

                <div class="form-group">
                    <label for="destaque">Artigo em Destaque</label>
                    <select id="destaque">
                        <option value="false">N√£o</option>
                        <option value="true">Sim</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="resumo">Resumo do Artigo</label>
                <textarea id="resumo" placeholder="Resumo do artigo (m√°ximo 500 caracteres)" rows="3" maxlength="500"></textarea>
                <small class="char-count">Caracteres: <span id="resumoCount">0</span>/500</small>
            </div>

            <div class="form-group">
                <label for="imagemPrincipal">Imagem Principal</label>
                <div class="upload-area" id="uploadArea">
                    <div class="upload-content">
                        <div class="upload-icon">üì∑</div>
                        <p>Clique ou arraste uma imagem aqui</p>
                        <small>Formatos: JPG, PNG, GIF (m√°x. 10MB)</small>
                    </div>
                    <input type="file" id="imagemPrincipal" accept="image/*" style="display: none;">
                </div>
                <div id="imagemPreview" class="image-preview" style="display: none;">
                    <img id="imagemPreviewImg" src="" alt="Preview">
                    <button type="button" id="removeImage" class="remove-image">‚úï</button>
                    <div class="image-info">
                        <span id="imagemUrl"></span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Se√ß√£o de Blocos de Conte√∫do -->
        <section class="content-section">
            <h2>Conte√∫do do Artigo</h2>
            
            <div class="content-form">
                <div class="form-group">
                    <label for="conteudo">Conte√∫do do Bloco</label>
                    <textarea id="conteudo" placeholder="Digite o conte√∫do deste bloco..." rows="4"></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="tipo">Tipo do Elemento</label>
                        <select id="tipo">
                            <option value="p">Par√°grafo</option>
                            <option value="h1">T√≠tulo 1 (H1)</option>
                            <option value="h2">T√≠tulo 2 (H2)</option>
                            <option value="h3">T√≠tulo 3 (H3)</option>
                            <option value="h4">T√≠tulo 4 (H4)</option>
                            <option value="h5">T√≠tulo 5 (H5)</option>
                            <option value="h6">T√≠tulo 6 (H6)</option>
                            <option value="image">Imagem</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <button type="button" id="addBlock" class="btn btn-primary">
                            Adicionar Bloco
                        </button>
                    </div>
                </div>

                <!-- Upload de imagem para blocos -->
                <div id="blockImageUpload" class="form-group" style="display: none;">
                    <label>Imagem do Bloco</label>
                    <div class="upload-area" id="blockUploadArea">
                        <div class="upload-content">
                            <div class="upload-icon">üñºÔ∏è</div>
                            <p>Clique ou arraste uma imagem para o bloco</p>
                            <small>Formatos: JPG, PNG, GIF (m√°x. 10MB)</small>
                        </div>
                        <input type="file" id="blockImage" accept="image/*" style="display: none;">
                    </div>
                    <div id="blockImagePreview" class="image-preview" style="display: none;">
                        <img id="blockImagePreviewImg" src="" alt="Preview">
                        <button type="button" id="removeBlockImage" class="remove-image">‚úï</button>
                        <div class="image-info">
                            <span id="blockImageUrl"></span>
                        </div>
                    </div>
                </div>

                <div class="help-text">
                    <small>üí° Dica: Use Ctrl+Enter para adicionar o bloco rapidamente</small>
                </div>
            </div>

            <!-- Lista de Blocos -->
            <div class="blocks-section">
                <h3>Blocos do Artigo</h3>
                <div id="blocksList" class="blocks-list">
                    <p class="empty-state">Nenhum bloco adicionado ainda.</p>
                </div>
            </div>
        </section>

        <!-- Pr√©-visualiza√ß√£o -->
        <section class="preview-section">
            <h2>Pr√©-visualiza√ß√£o</h2>
            <div id="preview" class="preview">
                <p class="empty-preview">A pr√©-visualiza√ß√£o aparecer√° aqui conforme voc√™ adiciona blocos de conte√∫do.</p>
            </div>
        </section>

        <!-- A√ß√µes -->
        <section class="actions-section">
            <div class="actions">
                <button type="button" id="saveDraft" class="btn btn-secondary">
                    üíæ Salvar Rascunho
                </button>
                
                <button type="button" id="loadDraft" class="btn btn-secondary">
                    üìÅ Carregar Rascunho
                </button>
                
                <button type="button" id="exportHtml" class="btn btn-secondary">
                    üìÑ Exportar HTML
                </button>
                
                <button type="button" id="clearForm" class="btn btn-warning">
                    üóëÔ∏è Limpar Tudo
                </button>
                
                <button type="button" id="publishArticle" class="btn btn-success">
                    üöÄ Publicar Artigo
                </button>
            </div>
        </section>

        <!-- Lista de Artigos Publicados -->
        <section class="articles-section">
            <h2>Artigos Publicados Recentemente</h2>
            <div id="articlesList" class="articles-list">
                <p class="loading">Carregando artigos...</p>
            </div>
        </section>
    </div>

    <!-- Scripts -->
    <script src="app-web.js"></script>
</body>
</html>
